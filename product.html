<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Producto - Novedades Videth</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <a class="btn-kawaii" href="index.html">⬅ Regresar</a>
    <main>
      <img id="productoImagen" src="assets/placeholder.png" alt="Producto" style="max-width:420px;width:100%;border-radius:12px;margin-top:12px;">
      <h2 id="productoNombre"></h2>
      <p class="precio" id="productoPrecio"></p>
      <p id="productoDescripcion"></p>

      <div class="product-actions">
        <button class="btn-kawaii" id="btnEnviar">Enviar pedido</button>
        <a id="linkWhatsDirect" class="btn-kawaii" href="#" target="_blank">Abrir WhatsApp</a>
      </div>

      <section style="margin-top:18px;">
        <h3>Información de envíos</h3>
        <p>Envíos nacionales: por paquetería (cliente paga). Dentro de CDMX: puedes pagar y contratar Didi/Uber/paquetería local. También ofrecemos sistema de apartado.</p>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <strong>Novedades Videth</strong><br>
      Av. Río Soto La Marina 2D, Real del Moral, Iztapalapa, 09010 CDMX<br>
      Horario: 12:30pm - 9:30pm (Temporada: 9:30am - 11:00pm).<br>
      <a href="https://maps.app.goo.gl/65as3VQShef14cvb9" target="_blank">Ver en Google Maps</a><br><br>
      <a href="https://www.instagram.com/boutiquenovedadesvideth?igsh=Y2kybGw4enl3dXdo" target="_blank">Instagram</a> •
      <a href="https://www.facebook.com/share/1DH3cqKQVH/" target="_blank">Facebook</a> •
      <a href="https://youtube.com/@novedadesvideth?si=Cqs5RsDANIG3EvAj" target="_blank">YouTube</a>
    </footer>
  </div>

  <script src="script.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const nombre = params.get("nombre") || "";
    const precio = params.get("precio") || "";
    const img = params.get("img") || "";
    const desc = params.get("desc") || "";

    document.getElementById("productoNombre").textContent = decodeURIComponent(nombre);
    document.getElementById("productoPrecio").textContent = precio ? `$${decodeURIComponent(precio)} MXN` : "";
    document.getElementById("productoImagen").src = img ? decodeURIComponent(img) : "assets/placeholder.png";
    document.getElementById("productoDescripcion").textContent = decodeURIComponent(desc || "");

    // Enlace directo
    const mensaje = `${WHATSAPP_BASE_MESSAGE} Producto: ${decodeURIComponent(nombre)} ${precio ? "| Precio: $" + decodeURIComponent(precio) : ""}`;
    document.getElementById("linkWhatsDirect").href = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(mensaje)}`;

    // Botón que usa helper
    document.getElementById("btnEnviar").addEventListener("click", () => {
      openWhatsAppWithProduct(document.getElementById("productoNombre").textContent, document.getElementById("productoPrecio").textContent, document.getElementById("productoImagen").src);
    });
  </script>
</body>
</html>
